<div class="mt-8">
  @if (products() == null) {
    <!-- Loading State -->
    <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
      @for (s of [1,2,3,4,5,6,7,8]; track s) {
        <div class="group relative overflow-hidden rounded-2xl bg-white border border-gray-200 shadow-md animate-pulse">
          <div class="aspect-square w-full bg-gradient-to-br from-gray-200 to-gray-300"></div>
          <div class="p-5 space-y-3">
            <div class="h-6 w-3/4 rounded-md bg-gray-200"></div>
            <div class="h-5 w-1/2 rounded-md bg-gray-200"></div>
            <div class="h-10 w-full rounded-lg bg-gray-200"></div>
          </div>
        </div>
      }
    </div>
  } @else if (products()?.items && products()!.items.length > 0) {
    <!-- Products Grid -->
    <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch">
      @for (product of products()?.items; track product.productId) {
        <product-card
          [product]="product"
          (productClick)="handleProductClick(product)"
          (addToCart)="handleAddToCart($event)"
          class="h-full"
        />
      }
    </div>

    <!-- Results Count -->
    @if (products()?.totalItems) {
      <div class="mt-12 flex items-center justify-center">
        <div class="px-6 py-3 bg-white rounded-xl shadow-md border border-gray-200">
          <p class="text-sm text-gray-600">
            Showing <span class="font-bold text-indigo-600">{{ products()!.items.length }}</span> of
            <span class="font-bold text-gray-900">{{ products()!.totalItems }}</span> products
          </p>
        </div>
      </div>
    }
  }
</div>


