



<div class="bg-sky-50 ">

  <div class="mx-2 p-2 md:mx-auto flex items-center">
    <!-- Left: Logo + Categories -->
    <div class="flex items-center space-x-4">
      <a [routerLink]="['/']" class="shrink-0">
        <img alt="Ewandr Store" class="w-10 h-10" src="/favicon.svg">
      </a>

      <!-- Categories with hover popover -->
      <div class="relative group">
        <button class="inline-flex items-center rounded-md px-3 py-2 text-sm font-medium text-slate-700 hover:text-slate-900 hover:bg-white/70 focus:outline-none focus:ring-2 focus:ring-sky-300">
          <span>Categories</span>
          <svg class="ml-1 h-4 w-4 text-slate-500 group-hover:text-slate-700" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 0 1 1.06.02L10 10.94l3.71-3.71a.75.75 0 1 1 1.06 1.06l-4.24 4.24a.75.75 0 0 1-1.06 0L5.25 8.29a.75.75 0 0 1-.02-1.08z" clip-rule="evenodd" />
          </svg>
        </button>
        <div class="absolute left-0 top-full hidden w-56 rounded-md border border-slate-200 bg-white shadow-lg ring-1 ring-black/5 group-hover:block">
          <ul class="py-2 text-sm text-slate-700">
            @for (collection of collections()?.children; track collection.id) {
              <li>
                <a [routerLink]="[`/category`, collection.slug]" class="block px-4 py-2 hover:bg-slate-50">{{collection.name}}</a>
              </li>
            }
          </ul>
        </div>
      </div>
    </div>

    <!-- Middle: Search -->
    <div class="flex-1 px-4">
      <form class="relative max-w-xl mx-auto">
        <input type="search" placeholder="Search products..." class="w-full rounded-md border border-slate-300 bg-white py-2 pl-3 pr-10 text-sm text-slate-700 placeholder-slate-400 shadow-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200">
        <button type="submit" class="absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500 hover:text-slate-700">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5">
            <path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 4.02 12.216l3.756 3.757a.75.75 0 1 0 1.06-1.06l-3.757-3.757A6.75 6.75 0 0 0 10.5 3.75Zm-5.25 6.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Z" clip-rule="evenodd" />
          </svg>
        </button>
      </form>
    </div>

    <!-- Right: Auth + Cart -->
    <div class="flex items-center space-x-2">
      <a [routerLink]="['/signup']" class="rounded-md px-3 py-2 text-sm font-medium text-slate-700 hover:bg-white/70 hover:text-slate-900">Sign up</a>
      <a [routerLink]="['/login']" class="rounded-md px-3 py-2 text-sm font-medium text-slate-700 hover:bg-white/70 hover:text-slate-900">Log in</a>
      <a [routerLink]="['/cart']" class="relative inline-flex items-center rounded-md p-2 text-slate-700 hover:bg-white/70 hover:text-slate-900">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6">
          <path d="M2.25 3a.75.75 0 0 1 .75-.75h1.386c.62 0 1.152.405 1.314 1.003l.383 1.437h12.403a.75.75 0 0 1 .727.955l-1.8 6.3a1.5 1.5 0 0 1-1.44 1.095H8.514l.24 1.125h9.246a.75.75 0 0 1 0 1.5H8.25a1.5 1.5 0 0 1-1.467-1.167L5.003 4.65 4.72 3.6a.375.375 0 0 0-.366-.275H3a.75.75 0 0 1-.75-.75Z" />
          <path d="M8.25 20.25a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm9-1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" />
        </svg>
        <span class="absolute -top-1 -right-1 rounded-full bg-sky-500 px-1.5 py-0.5 text-xs font-semibold text-white">0</span>
      </a>
    </div>
  </div>
</div>


